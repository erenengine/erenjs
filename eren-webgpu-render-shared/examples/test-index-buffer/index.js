import { Instance } from '../../dist/instance.js';
import { Adapter } from '../../dist/adapter.js';
import { Context } from '../../dist/context.js';
import { Device } from '../../dist/device.js';
import { TestRenderer } from './renderer';
const canvas = document.getElementById('canvas');
const instance = new Instance();
const adapter = await Adapter.create(instance);
const context = new Context(canvas);
const device = await Device.create(adapter, context, instance.preferredFormat);
const renderer = new TestRenderer(device, instance.preferredFormat);
function frame() {
    //console.log('frame');
    renderer.render(context.getCurrentTexture().createView());
    requestAnimationFrame(frame);
}
frame();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDbEQsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ2hELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNoRCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDOUMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLFlBQVksQ0FBQztBQUUxQyxNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBc0IsQ0FBQztBQUV0RSxNQUFNLFFBQVEsR0FBRyxJQUFJLFFBQVEsRUFBRSxDQUFDO0FBQ2hDLE1BQU0sT0FBTyxHQUFHLE1BQU0sT0FBTyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMvQyxNQUFNLE9BQU8sR0FBRyxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNwQyxNQUFNLE1BQU0sR0FBRyxNQUFNLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDL0UsTUFBTSxRQUFRLEdBQUcsSUFBSSxZQUFZLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxlQUFlLENBQUMsQ0FBQztBQUVwRSxTQUFTLEtBQUs7SUFDWix1QkFBdUI7SUFDdkIsUUFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO0lBQzFELHFCQUFxQixDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQy9CLENBQUM7QUFFRCxLQUFLLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluc3RhbmNlIH0gZnJvbSAnLi4vLi4vZGlzdC9pbnN0YW5jZS5qcyc7XG5pbXBvcnQgeyBBZGFwdGVyIH0gZnJvbSAnLi4vLi4vZGlzdC9hZGFwdGVyLmpzJztcbmltcG9ydCB7IENvbnRleHQgfSBmcm9tICcuLi8uLi9kaXN0L2NvbnRleHQuanMnO1xuaW1wb3J0IHsgRGV2aWNlIH0gZnJvbSAnLi4vLi4vZGlzdC9kZXZpY2UuanMnO1xuaW1wb3J0IHsgVGVzdFJlbmRlcmVyIH0gZnJvbSAnLi9yZW5kZXJlcic7XG5cbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcblxuY29uc3QgaW5zdGFuY2UgPSBuZXcgSW5zdGFuY2UoKTtcbmNvbnN0IGFkYXB0ZXIgPSBhd2FpdCBBZGFwdGVyLmNyZWF0ZShpbnN0YW5jZSk7XG5jb25zdCBjb250ZXh0ID0gbmV3IENvbnRleHQoY2FudmFzKTtcbmNvbnN0IGRldmljZSA9IGF3YWl0IERldmljZS5jcmVhdGUoYWRhcHRlciwgY29udGV4dCwgaW5zdGFuY2UucHJlZmVycmVkRm9ybWF0KTtcbmNvbnN0IHJlbmRlcmVyID0gbmV3IFRlc3RSZW5kZXJlcihkZXZpY2UsIGluc3RhbmNlLnByZWZlcnJlZEZvcm1hdCk7XG5cbmZ1bmN0aW9uIGZyYW1lKCkge1xuICAvL2NvbnNvbGUubG9nKCdmcmFtZScpO1xuICByZW5kZXJlci5yZW5kZXIoY29udGV4dC5nZXRDdXJyZW50VGV4dHVyZSgpLmNyZWF0ZVZpZXcoKSk7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7XG59XG5cbmZyYW1lKCk7XG4iXX0=