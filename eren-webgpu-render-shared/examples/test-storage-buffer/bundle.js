(()=>{"use strict";var e,t,r,n,o={367:(e,t,r)=>{r.a(e,async(e,t)=>{try{var n=r(543),o=r(453),a=r(797),i=r(562),s=r(933);const u=document.getElementById("canvas"),c=new n.c,f=await o.Y.create(c),d=new a.o(u),p=await i.p.create(f,d,c.preferredFormat),l=new s.O(p,c.preferredFormat);function h(){l.render(d.getCurrentTexture().createView(),u.width,u.height),requestAnimationFrame(h)}h(),t()}catch(v){t(v)}},1)},453:(e,t,r)=>{r.d(t,{Y:()=>n});class n{#e;constructor(e){this.#e=e}static async create(e){const t=await e.requestAdapter();return new n(t)}requestDevice(){return this.#e.requestDevice()}}},543:(e,t,r)=>{r.d(t,{c:()=>n});class n{#t;preferredFormat;constructor(){if(!navigator.gpu)throw new Error("WebGPU support is not available");this.#t=navigator.gpu,this.preferredFormat=navigator.gpu.getPreferredCanvasFormat()}async requestAdapter(){const e=await this.#t.requestAdapter({powerPreference:"high-performance",forceFallbackAdapter:!1});if(!e)throw new Error("Failed to request Adapter.");return e}}},562:(e,t,r)=>{r.d(t,{p:()=>n});class n{#r;queue;constructor(e,t){this.#r=e,this.queue=t}static async create(e,t,r){const o=await e.requestDevice();return t.configure({device:o,format:r,alphaMode:"opaque"}),new n(o,o.queue)}createShaderModule(e){return this.#r.createShaderModule(e)}createPipelineLayout(e){return this.#r.createPipelineLayout(e)}createComputePipeline(e){return this.#r.createComputePipeline(e)}createRenderPipeline(e){return this.#r.createRenderPipeline(e)}createCommandEncoder(e){return this.#r.createCommandEncoder(e)}createBuffer(e){return this.#r.createBuffer(e)}createBindGroupLayout(e){return this.#r.createBindGroupLayout(e)}createBindGroup(e){return this.#r.createBindGroup(e)}createTexture(e){return this.#r.createTexture(e)}}},797:(e,t,r)=>{r.d(t,{o:()=>n});class n{#n;constructor(e){const t=e.getContext("webgpu");if(!t)throw new Error("Failed to get WebGPU context");this.#n=t}configure(e){this.#n.configure(e)}getCurrentTexture(){return this.#n.getCurrentTexture()}}},933:(e,t,r)=>{r.d(t,{O:()=>h});const n={arrayStride:20,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float32x2"},{shaderLocation:1,offset:8,format:"float32x3"}]};var o,a=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array;function s(e,t){var r=new i(2);return r[0]=e,r[1]=t,r}function u(e,t,r){var n=new i(3);return n[0]=e,n[1]=t,n[2]=r,n}function c(){var e=new i(16);return i!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),o=new i(2),i!=Float32Array&&(o[0]=0,o[1]=0),function(){var e=new i(3);i!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0)}();const f={r:.1921,g:.302,b:.4745,a:1},d=[{pos:s(-.5,-.5),color:u(1,0,0)},{pos:s(.5,-.5),color:u(0,1,0)},{pos:s(.5,.5),color:u(0,0,1)},{pos:s(-.5,.5),color:u(1,1,1)}],p=[0,1,2,2,3,0];class l{#r;#o;#a;#i;#s;#u;constructor(e,t){this.#r=e;let r=e.createShaderModule({label:"Test Shader",code:"// storage buffer 정의 (binding 0, group 0)\nstruct StorageBufferObject {\n    model : mat4x4<f32>,\n    view  : mat4x4<f32>,\n    proj  : mat4x4<f32>,\n};\n\n@group(0) @binding(0)\nvar<storage, read> ssbo : StorageBufferObject;\n\n// 정점 입력 구조체\nstruct VertexInput {\n    @location(0) inPosition : vec2<f32>,\n    @location(1) inColor    : vec3<f32>,\n};\n\n// 정점 출력 구조체\nstruct VertexOutput {\n    @builtin(position) position : vec4<f32>,\n    @location(0) fragColor : vec3<f32>,\n};\n\n@vertex\nfn vs_main(input : VertexInput) -> VertexOutput {\n    var output : VertexOutput;\n\n    let pos = vec4<f32>(input.inPosition, 0.0, 1.0);\n    output.position = ssbo.proj * ssbo.view * ssbo.model * pos;\n\n    output.fragColor = input.inColor;\n    return output;\n}\n\n@fragment\nfn fs_main(@location(0) fragColor : vec3<f32>) -> @location(0) vec4<f32> {\n    return vec4<f32>(fragColor, 1.0);\n}\n"});this.#i=e.createBuffer({label:"SSBO Buffer",size:192,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST});const o=e.createBindGroupLayout({label:"SBO Bind Group Layout",entries:[{binding:0,visibility:GPUShaderStage.VERTEX,buffer:{type:"read-only-storage"}}]});this.#s=e.createBindGroup({label:"SBO Bind Group",layout:o,entries:[{binding:0,resource:{buffer:this.#i}}]});let a=e.createPipelineLayout({label:"Test Pipeline Layout",bindGroupLayouts:[o]});this.#o=e.createRenderPipeline({label:"Test Pipeline",layout:a,vertex:{module:r,entryPoint:"vs_main",buffers:[n]},fragment:{module:r,entryPoint:"fs_main",targets:[{format:t}]},primitive:{topology:"triangle-strip",stripIndexFormat:"uint16"}}),this.#a=function(e){const t=function(e){const t=new Float32Array(5*e.length);for(let r=0;r<e.length;r++){const n=5*r;t.set(e[r].pos,n+0),t.set(e[r].color,n+2)}return t}(d),r=t.length,n=p.length,o=4*r+3&-4,a=o+2*n,i=e.createBuffer({label:"Test Buffer",size:a,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST,mappedAtCreation:!0}),s=new Uint8Array(i.getMappedRange());return new Float32Array(s.buffer).set(t),new Uint16Array(s.buffer,o,n).set(p),i.unmap(),{buffer:i,vertexOffset:0,indexOffset:o,indexCount:n}}(e),this.#u=Date.now()}#c(e,t){const r=(performance.now()-this.#u)/1e3,n={model:c(),view:c(),proj:c()};!function(e,t){var r=Math.sin(t),n=Math.cos(t);e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(n.model,-90*r*Math.PI/180);const o=u(2,2,2),i=u(0,0,0),s=u(0,0,1);!function(e,t,r,n){var o,i,s,u,c,f,d,p,l,h,v=t[0],b=t[1],m=t[2],g=n[0],y=n[1],w=n[2],B=r[0],x=r[1],P=r[2];Math.abs(v-B)<a&&Math.abs(b-x)<a&&Math.abs(m-P)<a?function(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(e):(d=v-B,p=b-x,l=m-P,o=y*(l*=h=1/Math.hypot(d,p,l))-w*(p*=h),i=w*(d*=h)-g*l,s=g*p-y*d,(h=Math.hypot(o,i,s))?(o*=h=1/h,i*=h,s*=h):(o=0,i=0,s=0),u=p*s-l*i,c=l*o-d*s,f=d*i-p*o,(h=Math.hypot(u,c,f))?(u*=h=1/h,c*=h,f*=h):(u=0,c=0,f=0),e[0]=o,e[1]=u,e[2]=d,e[3]=0,e[4]=i,e[5]=c,e[6]=p,e[7]=0,e[8]=s,e[9]=f,e[10]=l,e[11]=0,e[12]=-(o*v+i*b+s*m),e[13]=-(u*v+c*b+f*m),e[14]=-(d*v+p*b+l*m),e[15]=1)}(n.view,o,i,s);const f=e/t;(function(e,t,r,n,o){var a,i=1/Math.tan(t/2);e[0]=i/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0?(a=1/(n-o),e[10]=(o+n)*a,e[14]=2*o*n*a):(e[10]=-1,e[14]=-2*n)})(n.proj,Math.PI/4,f,.1,10),this.#r.queue.writeBuffer(this.#i,0,function(e){const t=new Float32Array(48);return t.set(e.model,0),t.set(e.view,16),t.set(e.proj,32),t}(n))}recordCommands(e,t,r,n){const o=e.beginRenderPass({colorAttachments:[{view:t,loadOp:"clear",storeOp:"store",clearValue:f}]});o.setPipeline(this.#o),o.setVertexBuffer(0,this.#a.buffer,this.#a.vertexOffset),o.setIndexBuffer(this.#a.buffer,"uint16",this.#a.indexOffset),this.#c(r,n),o.setBindGroup(0,this.#s),o.drawIndexed(this.#a.indexCount,1,0,0,0),o.end()}}class h{#r;#f;constructor(e,t){this.#r=e,this.#f=new l(e,t)}render(e,t,r){const n=this.#r.createCommandEncoder({label:"Test Render Encoder"});this.#f.recordCommands(n,e,t,r),this.#r.queue.submit([n.finish()])}}}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return o[e](r,r.exports,i),r.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},i.a=(o,a,i)=>{var s;i&&((s=[]).d=-1);var u,c,f,d=new Set,p=o.exports,l=new Promise((e,t)=>{f=t,c=e});l[t]=p,l[e]=e=>(s&&e(s),d.forEach(e),l.catch(e=>{})),o.exports=l,a(o=>{var a;u=(o=>o.map(o=>{if(null!==o&&"object"==typeof o){if(o[e])return o;if(o.then){var a=[];a.d=0,o.then(e=>{i[t]=e,n(a)},e=>{i[r]=e,n(a)});var i={};return i[e]=e=>e(a),i}}var s={};return s[e]=e=>{},s[t]=o,s}))(o);var i=()=>u.map(e=>{if(e[r])throw e[r];return e[t]}),c=new Promise(t=>{(a=()=>t(i)).r=0;var r=e=>e!==s&&!d.has(e)&&(d.add(e),e&&!e.d&&(a.r++,e.push(a)));u.map(t=>t[e](r))});return a.r?c:i()},e=>(e?f(l[r]=e):c(p),n(s))),s&&s.d<0&&(s.d=0)},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i(367)})();