(()=>{"use strict";const r=WebGL2RenderingContext.ARRAY_BUFFER,t=(WebGL2RenderingContext.ELEMENT_ARRAY_BUFFER,WebGL2RenderingContext.STATIC_DRAW),e=WebGL2RenderingContext.FLOAT;WebGL2RenderingContext.LESS;class o{#r;#t;constructor(r,t,e){this.#r=r,this.#t=this.#r.createProgram(t,e)}use(){this.#r.useProgram(this.#t)}getUniformLocation(r){return this.#r.getUniformLocation(this.#t,r)}}var n,a="undefined"!=typeof Float32Array?Float32Array:Array;function i(r,t){var e=new a(2);return e[0]=r,e[1]=t,e}function s(r,t,e){var o=new a(3);return o[0]=r,o[1]=t,o[2]=e,o}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var r=0,t=arguments.length;t--;)r+=arguments[t]*arguments[t];return Math.sqrt(r)}),n=new a(2),a!=Float32Array&&(n[0]=0,n[1]=0),function(){var r=new a(3);a!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0)}();const l={r:.1921,g:.302,b:.4745,a:1},h=[{pos:i(-.5,-.5),color:s(1,0,0)},{pos:i(.5,-.5),color:s(0,1,0)},{pos:i(.5,.5),color:s(0,0,1)},{pos:i(.5,.5),color:s(0,0,1)},{pos:i(-.5,.5),color:s(1,1,1)},{pos:i(-.5,-.5),color:s(1,0,0)}];class g{#r;#t;#e;constructor(n){this.#r=n,this.#t=new o(n,"#version 300 es\nprecision mediump float;\n\nin vec2 aPosition;\nin vec3 aColor;\n\nout vec3 vColor;\n\nvoid main() {\n    gl_Position = vec4(aPosition, 0.0, 1.0);\n    vColor = aColor;\n}\n","#version 300 es\nprecision mediump float;\n\nin  vec3 vColor;\nout vec4 outColor;\n\nvoid main() {\n    outColor = vec4(vColor, 1.0);\n}\n"),this.#e=n.createVertexArray(),n.bindVertexArray(this.#e);const a=n.createBuffer();n.bindBuffer(r,a),n.bufferData(r,function(r){const t=new Float32Array(5*r.length);for(let e=0;e<r.length;e++){const o=5*e;t.set(r[e].pos,o+0),t.set(r[e].color,o+2)}return t}(h),t),n.enableVertexAttribArray(0),n.vertexAttribPointer(0,2,e,!1,20,0),n.enableVertexAttribArray(1),n.vertexAttribPointer(1,3,e,!1,20,8)}recordCommands(){this.#r.clear(l),this.#t.use(),this.#r.bindVertexArray(this.#e),this.#r.draw(h.length,1)}}const c=document.getElementById("canvas"),d=new class{#r;constructor(r){this.#r=r}#o(r,t){const e=this.#r.createShader(t);if(!e)throw new Error("Failed to create shader");if(this.#r.shaderSource(e,r),this.#r.compileShader(e),!this.#r.getShaderParameter(e,this.#r.COMPILE_STATUS)){const r=this.#r.getShaderInfoLog(e);throw this.#r.deleteShader(e),new Error("Failed to compile shader: "+r)}return e}createProgram(r,t){const e=this.#o(r,this.#r.VERTEX_SHADER),o=this.#o(t,this.#r.FRAGMENT_SHADER),n=this.#r.createProgram();if(this.#r.attachShader(n,e),this.#r.attachShader(n,o),this.#r.linkProgram(n),!this.#r.getProgramParameter(n,this.#r.LINK_STATUS)){const r=this.#r.getProgramInfoLog(n);throw this.#r.deleteProgram(n),new Error("Failed to link program: "+r)}return n}useProgram(r){this.#r.useProgram(r)}createVertexArray(){return this.#r.createVertexArray()}bindVertexArray(r){this.#r.bindVertexArray(r)}createBuffer(){return this.#r.createBuffer()}bindBuffer(r,t){this.#r.bindBuffer(r,t)}bufferData(r,t,e){this.#r.bufferData(r,t,e)}enableVertexAttribArray(r){this.#r.enableVertexAttribArray(r)}vertexAttribPointer(r,t,e,o,n,a){this.#r.vertexAttribPointer(r,t,e,o,n,a)}uniformMatrix4fv(r,t,e){this.#r.uniformMatrix4fv(r,t,e)}getUniformLocation(r,t){return this.#r.getUniformLocation(r,t)}clear(r){this.#r.clearColor(r.r,r.g,r.b,r.a),this.#r.clear(this.#r.COLOR_BUFFER_BIT)}draw(r,t){this.#r.drawArraysInstanced(this.#r.TRIANGLES,0,r,t)}drawElements(r){this.#r.drawElements(this.#r.TRIANGLES,r,this.#r.UNSIGNED_SHORT,0)}drawIndexed(r,t){this.#r.drawElementsInstanced(this.#r.TRIANGLE_STRIP,r,this.#r.UNSIGNED_SHORT,0,t)}enableDepthTest(){this.#r.enable(this.#r.DEPTH_TEST)}disableDepthTest(){this.#r.disable(this.#r.DEPTH_TEST)}depthFunc(r){this.#r.depthFunc(r)}clearDepth(r){this.#r.clearDepth(r)}}(c.getContext("webgl2")),u=new class{#n;constructor(r){this.#n=new g(r)}render(){this.#n.recordCommands()}}(d);!function r(){u.render(),requestAnimationFrame(r)}()})();